{% extends 'base.html.twig' %}

{% block body %}
    <form id="form_user" name="form_user" action="{{ path('user_edit', {'id': user.id}) }}" method="POST">
    <div class="form-group">
        <label for="">Nombre de usuario:</label>
        {{ form_widget(edit_form.user_name) }}
    </div>
    <div class="form-group">
        <label for="">Nombre:</label>
        {{ form_widget(edit_form.first_name) }}
    </div>
    <div class="form-group">
        <label for="">Apellido:</label>
        {{ form_widget(edit_form.last_name) }}
    </div>
    <div class="form-group">
        <label for="">Correo:</label>
        {{ form_widget(edit_form.email) }}
    </div>
    <div class="form-group">
        <label for="">Contraseña:</label>
        {{ form_widget(edit_form.password) }}
    </div>
    <div class="form-group">
        <label for="">Repetir Contraseña:</label>
        {{ form_widget(edit_form.password_veri) }}
    </div>
    
    <div class="form-group">
        <label for="">Rol:</label>
        {{ form_widget(edit_form.rol) }}
    </div>
    <div class="form-group">
        <label for="">Estado:</label>
        {{ form_widget(edit_form.is_active) }}
    </div>
    

    {{ form_widget(edit_form._token) }}

    <p>
        <button type="submit" class="btn btn-success btn-lg">Guardar</button>
        <a class="btn btn-lg btn-default" role="button" href="{{ path('user_index') }}">Cancelar</a>
    </p>
</form>
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script type="text/javascript">
    $(document).ready(function(){

        $("#form_user").submit(function(e) {
            var self = this;
            e.preventDefault();

            //validamos la contraseña
            var pass1 = $("#user_password").val();
            var pass2 = $("#user_password_veri").val();

            if (pass1 != '' && pass2 !='') {
                if (pass1 == pass2) {
                    self.submit();
                }else{
                    return false;
                }
            }else{
                return false;
            }
        });
    })
</script>
{% endblock %}
